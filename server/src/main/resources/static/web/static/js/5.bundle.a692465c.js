(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{284:function(e,t,i){},696:function(e,t,i){"use strict";var n=i(284);i.n(n).a},703:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"table-container"},[i("div",{staticClass:"toolbar"},[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.tableParams.parameter,callback:function(t){e.$set(e.tableParams,"parameter",t)},expression:"tableParams.parameter"}}),e._v(" "),i("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.tableListGet}}),e._v(" "),i("div",{staticClass:"placeholder"})],1),e._v(" "),i("div",{staticClass:"card-box"},[i("el-card",{staticClass:"card"},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v("售后类型")]),e._v(" "),i("el-popover",{attrs:{placement:"top",width:"250"},model:{value:e.visible.menuAdd1,callback:function(t){e.$set(e.visible,"menuAdd1",t)},expression:"visible.menuAdd1"}},[i("div",[e._v(" 售后类型 ")]),e._v(" "),i("el-input",{staticStyle:{margin:"15px 0"},attrs:{size:"mini"},model:{value:e.menuAddName,callback:function(t){e.menuAddName=t},expression:"menuAddName"}}),e._v(" "),i("div",{staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible.menuAdd1=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.menuAdd(1)}}},[e._v("确定")])],1),e._v(" "),i("el-button",{staticStyle:{float:"right","margin-left":"5px"},attrs:{slot:"reference",size:"mini",type:"primary"},slot:"reference"},[e._v("添加")])],1)],1),e._v(" "),e._l(e.menu.first.list,function(t){return i("div",{key:t.id,staticClass:"item",class:{"item-active":e.menu.first.id===t.id},on:{click:function(i){return e.handleMenuFirstClick(t.id)}}},[i("div",{staticClass:"item-text"},[e._v(e._s(t.name))]),e._v(" "),i("div",[i("el-button",{staticClass:"item-btn",attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.menuEdit(t.id)}}},[e._v("编辑")])],1)])})],2),e._v(" "),i("el-card",{staticClass:"card"},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v("故障设备")]),e._v(" "),0!==e.menu.first.id?i("el-popover",{attrs:{placement:"top",width:"250"},model:{value:e.visible.menuAdd2,callback:function(t){e.$set(e.visible,"menuAdd2",t)},expression:"visible.menuAdd2"}},[i("div",[e._v(e._s(e.menu.first.name)+" > ")]),e._v(" "),i("el-input",{staticStyle:{margin:"15px 0"},attrs:{size:"mini"},model:{value:e.menuAddName,callback:function(t){e.menuAddName=t},expression:"menuAddName"}}),e._v(" "),i("div",{staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible.menuAdd2=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.menuAdd(2)}}},[e._v("确定")])],1),e._v(" "),i("el-button",{staticStyle:{float:"right","margin-left":"5px"},attrs:{slot:"reference",size:"mini",type:"primary"},slot:"reference"},[e._v("添加")])],1):e._e()],1),e._v(" "),e._l(e.menu.second.list,function(t){return i("div",{key:t.id,staticClass:"item",class:{"item-active":e.menu.second.id===t.id},on:{click:function(i){return e.handleMenuSecondClick(t.id)}}},[i("div",{staticClass:"item-text"},[e._v(e._s(t.name))]),e._v(" "),i("div",[i("el-button",{staticClass:"item-btn",attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.menuEdit(t.id)}}},[e._v("编辑")])],1)])})],2),e._v(" "),i("el-card",{staticClass:"card"},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v("故障部件")]),e._v(" "),0!==e.menu.second.id?i("el-popover",{attrs:{placement:"top",width:"250"},model:{value:e.visible.menuAdd3,callback:function(t){e.$set(e.visible,"menuAdd3",t)},expression:"visible.menuAdd3"}},[i("div",[e._v(e._s(e.menu.first.name)+" > "+e._s(e.menu.second.name)+" > ")]),e._v(" "),i("el-input",{staticStyle:{margin:"15px 0"},attrs:{size:"mini"},model:{value:e.menuAddName,callback:function(t){e.menuAddName=t},expression:"menuAddName"}}),e._v(" "),i("div",{staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible.menuAdd3=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.menuAdd(3)}}},[e._v("确定")])],1),e._v(" "),i("el-button",{staticStyle:{float:"right","margin-left":"5px"},attrs:{slot:"reference",size:"mini",type:"primary"},slot:"reference"},[e._v("添加")])],1):e._e()],1),e._v(" "),e._l(e.menu.third.list,function(t){return i("div",{key:t.id,staticClass:"item",class:{"item-active":e.menu.third.id===t.id},on:{click:function(i){e.menu.third.id=t.id}}},[i("div",{staticClass:"item-text"},[e._v(e._s(t.name))]),e._v(" "),i("div",[i("el-button",{staticClass:"item-btn",attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.menuEdit(t.id)}}},[e._v("编辑")])],1)])})],2),e._v(" "),i("el-dialog",{attrs:{title:"编辑",visible:e.visible.editDlg,width:"20%","close-on-click-modal":!1,center:""},on:{"update:visible":function(t){return e.$set(e.visible,"editDlg",t)}}},[i("el-form",{attrs:{"label-width":"80px","label-position":"right"}},[i("el-form-item",{attrs:{label:"新名字"}},[i("el-input",{model:{value:e.menuEditName,callback:function(t){e.menuEditName=t},expression:"menuEditName"}})],1)],1),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.menuEditSubmit}},[e._v("确 定")])],1)],1)],1)])};n._withStripped=!0;var s={data:function(){return{tableParams:{parameter:null},visible:{menuAdd1:!1,menuAdd2:!1,menuAdd3:!1,menuEdit1:!1,menuEdit2:!1,menuEdit3:!1,editDlg:!1},menuAddName:null,menuEditId:null,menuEditName:null,menu:{first:{id:0,name:null,list:[]},second:{id:0,name:null,list:[]},third:{id:0,name:null,list:[]}},menuIndex:{},menuLevel:1}},computed:{},methods:{tableListGet:function(){var e=this;this.$API.CategoryGet(this.tableParams).then(function(t){e.menuIndex={},e.createMenuIndex(t),e.menu.first.list=t,e.menu.second.list=[],e.menu.third.list=[];var i=e.menu.first.id,n=e.menu.second.id;0!==i&&e.handleMenuFirstClick(i),0!==n&&e.handleMenuSecondClick(n)})},menuAdd:function(e){var t=this;if(this.menuAddName){var i={level:e,parentId:1,saleTypeName:this.menuAddName};if(1==e)i.parentId=1;else if(2==e)i.parentId=this.menu.first.id;else{if(3!=e)return void this.$message({message:"参数有误",type:"error"});i.parentId=this.menu.second.id}this.$API.CategoryAdd([i]).then(function(e){t.visible.menuAdd1=!1,t.visible.menuAdd2=!1,t.visible.menuAdd3=!1,t.menuAddName=null,t.tableListGet()})}else this.$message({message:"不能为空",type:"info"})},menuEdit:function(e){this.menuEditId=e,this.menuEditName=null,this.visible.editDlg=!0},menuDelete:function(e){var t=this;this.$confirm("是否删除",{type:"warning"}).then(function(){console.log("删除了"+t.menuIndex[e].name)}).catch()},menuEditSubmit:function(){var e=this;if(this.menuEditName){var t={saleTypeId:this.menuEditId,saleTypeName:this.menuEditName};this.$API.CategoryEdit(t).then(function(t){e.visible.editDlg=!1,e.tableListGet()})}},createMenuIndex:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=0;i<e.length;i++)e[i].child?(this.menuIndex[e[i].id]={name:e[i].name,child:e[i].child,level:this.menuLevel,parentId:t},this.menuLevel+=1,this.createMenuIndex(e[i].child,e[i].id)):this.menuIndex[e[i].id]={name:e[i].name,child:null,level:this.menuLevel,parentId:t};this.menuLevel>1&&(this.menuLevel-=1)},handleMenuFirstClick:function(e){this.menu.first.id=e,this.menu.first.name=this.menuIndex[e].name,this.menu.second.id=0,this.menu.second.name=0,this.menu.second.list=this.menuIndex[e].child,this.menu.third.id=0,this.menu.third.name=0,this.menu.third.list=[]},handleMenuSecondClick:function(e){this.menu.second.id=e,this.menu.second.name=this.menuIndex[e].name,this.menu.third.id=0,this.menu.third.name=0,this.menu.third.list=this.menuIndex[e].child}},mounted:function(){this.tableListGet()}},l=(i(696),i(8)),a=Object(l.a)(s,n,[],!1,null,"232447b8",null);a.options.__file="src/views/AfterSale/Category.vue";t.default=a.exports}}]);