(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{249:function(t,e,s){},373:function(t,e,s){"use strict";var i=s(249);s.n(i).a},713:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticStyle:{height:"100%"}},[s("div",{attrs:{id:"navi"}},[s("div",{attrs:{id:"logo"}},[t._v("后台管理系统")]),t._v(" "),s("el-button",{staticStyle:{color:"white"},attrs:{type:"text"},on:{click:t.copyToken}},[t._v("复制token")]),t._v(" "),s("input",{staticStyle:{display:"none"},attrs:{id:"demoInput"}}),t._v(" "),s("div",{staticClass:"placeholder"}),t._v(" "),s("div",{attrs:{id:"ctrlPanel"}},[s("el-dropdown",{staticStyle:{position:"static"},attrs:{trigger:"click"}},[s("el-button",{staticStyle:{color:"white"},attrs:{type:"text"}},[t._v("\n                    "+t._s(t.username)),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[s("el-button",{staticStyle:{color:"#606266"},attrs:{type:"text"},on:{click:t.editPwd}},[t._v("修改密码")])],1),t._v(" "),s("el-dropdown-item",[s("el-button",{staticStyle:{color:"#606266"},attrs:{type:"text"},on:{click:t.logOut}},[t._v("退出登录")])],1)],1)],1)],1)],1),t._v(" "),s("div",{attrs:{id:"container"}},[s("div",{attrs:{id:"menu"}},[s("el-menu",{attrs:{"default-active":t.$route.path,router:"","unique-opened":""}},[t.authList["/b-screen/api/v1/**"]?s("el-menu-item",{attrs:{index:"/map"}},[t._v("数据大屏")]):t._e(),t._v(" "),t.authList["/b-site/api/v1/**"]?s("el-submenu",{attrs:{index:"/site"}},[[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("台站管理")])],t._v(" "),t.authList["/b-site/api/v1/site/**"]?s("el-menu-item",{attrs:{index:"/site/siteInfo"}},[t._v("台站信息管理")]):t._e(),t._v(" "),t.authList["/b-site/api/v1/device/**"]?s("el-menu-item",{attrs:{index:"/site/deviceInfo"}},[t._v("设备信息管理")]):t._e()],2):t._e(),t._v(" "),t.authList["/b-patrol/api/v1/**"]?s("el-submenu",{attrs:{index:"/inspection"}},[[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("巡检管理")])],t._v(" "),t.authList["/b-patrol/api/v1/cycle/**"]?s("el-menu-item",{attrs:{index:"/inspection/plan"}},[t._v("巡检计划")]):t._e(),t._v(" "),t.authList["/b-patrol/api/v1/task/**"]?s("el-menu-item",{attrs:{index:"/inspection/task"}},[t._v("巡检任务")]):t._e(),t._v(" "),t.authList["/b-patrol/api/v1/tasks/**"]?s("el-menu-item",{attrs:{index:"/inspection/record"}},[t._v("巡检记录")]):t._e()],2):t._e(),t._v(" "),t.authList["/b-sale/api/v1/**"]?s("el-submenu",{attrs:{index:"/afterSale"}},[[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("售后管理")])],t._v(" "),t.authList["/b-sale/api/v1/declare/**"]?s("el-menu-item",{attrs:{index:"/afterSale/declare"}},[t._v("售后申报")]):t._e(),t._v(" "),s("el-menu-item",{attrs:{index:"/afterSale/browse"}},[t._v("售后记录浏览")]),t._v(" "),s("el-menu-item",{attrs:{index:"/afterSale/category"}},[t._v("售后分类")])],2):t._e(),t._v(" "),t.authList["/b-document/api/v1/**"]?s("el-menu-item",{attrs:{index:"/doc"}},[t._v("文档管理")]):t._e(),t._v(" "),t.authList["/b-census/api/v1/**"]?s("el-submenu",{attrs:{index:"/statistic"}},[[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("统计分析")])],t._v(" "),t.authList["/b-census/api/v1/station/**"]?s("el-menu-item",{attrs:{index:"/statistic/now"}},[t._v("站点当前情况")]):t._e(),t._v(" "),t.authList["/b-census/api/v1/repair/**"]?s("el-menu-item",{attrs:{index:"/statistic/maintain"}},[t._v("故障维护情况")]):t._e(),t._v(" "),t.authList["/b-census/api/v1/patrol/**"]?s("el-menu-item",{attrs:{index:"/statistic/inspection"}},[t._v("巡检情况")]):t._e(),t._v(" "),t.authList["/b-census/api/v1/work/**"]?s("el-menu-item",{attrs:{index:"/statistic/work"}},[t._v("工作量展示")]):t._e()],2):t._e(),t._v(" "),t.authList["/system/api/v1/**"]?s("el-submenu",{attrs:{index:"/system"}},[[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("系统管理")])],t._v(" "),t.authList["/system/api/v1/account/**"]?s("el-menu-item",{attrs:{index:"/system/user"}},[t._v("人员管理")]):t._e(),t._v(" "),t.authList["/system/api/v1/rolepower/**"]?s("el-menu-item",{attrs:{index:"/system/role"}},[t._v("权限管理")]):t._e(),t._v(" "),t.authList["/system/api/v1/log/*"]?s("el-menu-item",{attrs:{index:"/system/log"}},[t._v("日志管理")]):t._e()],2):t._e(),t._v(" "),t.authList["/b-hmould/api/v1/**"]?s("el-menu-item",{attrs:{index:"/mod"}},[t._v("模板管理")]):t._e()],1)],1),t._v(" "),s("div",{attrs:{id:"main"}},[s("router-view")],1)]),t._v(" "),s("el-dialog",{attrs:{visible:t.editPwdDlg,width:"25%","close-on-click-modal":!1,title:"修改密码"},on:{"update:visible":function(e){t.editPwdDlg=e},opened:t.editPwdOpend}},[s("el-form",{ref:"editPwdForm",attrs:{"label-position":"right","label-width":"80px",model:t.editPwdForm,rules:t.rules}},[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{attrs:{disabled:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"oldAdminPass",label:"原密码"}},[s("el-input",{attrs:{type:"password"},model:{value:t.editPwdForm.oldAdminPass,callback:function(e){t.$set(t.editPwdForm,"oldAdminPass",e)},expression:"editPwdForm.oldAdminPass"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"newAdminPass",label:"新密码"}},[s("el-input",{attrs:{type:"password"},model:{value:t.editPwdForm.newAdminPass,callback:function(e){t.$set(t.editPwdForm,"newAdminPass",e)},expression:"editPwdForm.newAdminPass"}})],1)],1),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.editPwdDlg=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.editPwdSubmit}},[t._v("确 定")])],1)],1)],1)};i._withStripped=!0;var a={data:function(){return{editPwdDlg:!1,editPwdForm:{oldAdminPass:null,newAdminPass:null},rules:{oldAdminPass:[{required:!0,message:"请输入原密码",trigger:"blur"}],newAdminPass:[{required:!0,message:"请输入新密码",trigger:"blur"}]},authList:{}}},computed:{username:function(){return sessionStorage.getItem("user")},userImg:function(){return JSON.parse(sessionStorage.getItem("adminInfo")).heardUrl}},methods:{editPwd:function(){this.editPwdDlg=!0},editPwdOpend:function(){this.$refs.editPwdForm.resetFields()},editPwdSubmit:function(){var t=this;this.$refs.editPwdForm.validate(function(e){if(e){var s={oldAdminPass:t.editPwdForm.oldAdminPass,newAdminPass:t.editPwdForm.newAdminPass};t.$API.PwdSelfEdit(s).then(function(e){t.editPwdDlg=!1,1001==e.code?t.$message({message:e.msg,type:"success"}):1e3==e.code&&t.$message({message:e.msg,type:"error"})})}})},copyToken:function(){var t=document.getElementById("demoInput");t.value=sessionStorage.getItem("token"),t.style.display="block",t.select(),document.execCommand("copy")&&(document.execCommand("copy"),t.style.display="none",this.$message({message:"复制成功",type:"success"}))},logOut:function(){var t=this;this.$confirm("确认退出？").then(function(){t.$router.push({path:"/login"})})}},mounted:function(){this.authList=JSON.parse(sessionStorage.getItem("auth"))}},n=(s(373),s(8)),o=Object(n.a)(a,i,[],!1,null,null,null);o.options.__file="src/views/Home.vue";e.default=o.exports}}]);